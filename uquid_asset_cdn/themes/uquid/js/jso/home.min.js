!function(t){function a(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}var o={};a.m=t,a.c=o,a.d=function(t,o,e){a.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:e})},a.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},a.p="",a(a.s=34)}({34:function(t,a){function o(){$(document).on("click","#productsAvailList .white-shdw-button",function(){$(this).addClass("active");var t=$(this).parent(),a=t.attr("data-product-id"),o=(t.attr("data-price"),t.attr("data-service-id")),e=t.attr("data-operator-id"),r=t.attr("data-country-id"),i=t.attr("data-product"),n=t.attr("data-optionselect"),s=$("#destination_number").intlTelInput("getNumber");UQAJAX.post({url:"/account/topup_landing/topup_submit",data:{action:"topup-landing-submit",uqtopup_coin:$("#coin").val(),uqtopup_destination_number:s,uqtopup_productId:a,uqtopup_serviceId:o,uqtopup_operatorId:e,uqtopup_countryId:r,uqtopup_topuptype:$("#service").val(),uqtopup_topupproduct:i,uqtopup_optionselect:n},dataType:"json",success:function(t){t&&t.status&&t.redirect_url?window.location.href=t.redirect_url:reload()}})})}function e(){var t=$("#destination_number"),a=$("#coin"),o=$("#service"),e=$("#homeTopupForm");e.submit(function(r){if(r.preventDefault(),!e.valid())return!1;if(e.find("#btnGo i").attr("class","fa fa-spinner fa-spin"),"topup"==o.val()){var i=t.intlTelInput("getSelectedCountryData");i.destinationPhone=t.intlTelInput("getNumber"),i.action="check",i.coin=a.val(),UQAJAX.post({url:"/account/topup_landing/topup_submit",data:i,reloadUserBalances:!1,success:function(t){t.status?window.showAvailableProductsForDestination(t.data):($("#error-alert").html(t.message).show(),setTimeout(function(){$("#error-alert").fadeOut()},2e3)),e.find("#btnGo i").attr("class","fa fa-search")},error:function(){console.warn("Server error"),e.find("#btnGo i").attr("class","fa fa-search")}})}else UQAJAX.post({url:"/account/topup_landing/topup_submit",data:{action:"checkAllOperatorsOfService",destinationPhone:t.intlTelInput("getNumber"),coin:a.val(),service_id:o.val()},dataType:"json",success:function(t){if(t&&t.status){var a=t.country_id;showAvailableOperators(t.data,a,o.val())}e.find("#btnGo i").attr("class","fa fa-search")},error:function(){console.warn("Server error"),e.find("#btnGo i").attr("class","fa fa-search")}})})}function r(){$("#productsAvailList").html("").hide(),$("#operatorAvailList").html("").hide()}function i(t,a){$("#homeTopupForm").validate().element("#destination_number")&&s(t,a)}function n(){var t=$("#coin");t.html(""),t.closest(".main-search-input-item").find(".loading").removeClass("d-none"),UQAJAX.post({url:"/account/topup_landing/topup_submit",data:{action:"getActiveCoins"},dataType:"json",success:function(a){if(a&&a.status){for(var o in a.data){var e=$("<option>");e.attr("value",o.toLowerCase());var r="<div><img width='20' class='coinImg' src='/uploads/logos/coins/"+a.data[o].coin_id+".png'> <span class='coinItem'>"+a.data[o].coin_name+"</span></div>";e.attr("data-content",r),e.text(o),t.append(e)}t.selectpicker({})}t.closest(".main-search-input-item").find(".loading").addClass("d-none")},error:function(){t.closest(".main-search-input-item").find(".loading").removeClass("d-none")}})}function s(t,a){var o=$("#service"),e=a.val(),r=t.intlTelInput("getNumber"),i=t.intlTelInput("getSelectedCountryData");i.destinationPhone=r,i.action="checkAllServicesForDestination",i.coin=e,o.closest(".main-search-input-item").find(".loading").removeClass("d-none");try{o.selectpicker("destroy")}catch(t){}o.html(""),UQAJAX.post({url:"/account/topup_landing/topup_submit",data:i,dataType:"json",success:function(t){if(t&&t.status&&t.data&&t.data.services){for(var a in t.data.services){var e=$("<option>"),r=t.data.services[a];e.text(r.service.capitalize()),e.attr("value",r.service_id),o.append(e)}var i=$("<option>");i.text("Topup"),i.attr("value","topup"),o.prepend(i),o.selectpicker()}o.closest(".main-search-input-item").find(".loading").addClass("d-none")},error:function(){o.closest(".main-search-input-item").find(".loading").addClass("d-none")}})}function c(){var t=$("#newsletterForm");t.submit(function(a){a.preventDefault(),t.find("button i").attr("class","fa fa-spinner fa-spin"),t.find(".alert").addClass("d-none"),UQAJAX.post({url:"/account/topup_landing/send-newsletter-subscription",data:t.serialize(),success:function(a){a.status?(t.find(".alert-success").removeClass("d-none"),t.find("input[name=email]").prop("readonly",!0),t.find("button").prop("disabled",!0)):t.find(".alert-danger").removeClass("d-none"),t.find("button i").attr("class","flaticon-next")},error:function(){t.find(".alert-danger").removeClass("d-none"),t.find("button i").attr("class","flaticon-next")}})})}$(function(){var t=$("#destination_number"),a=$("#coin"),s=$("#service"),d=$("#homeTopupForm");t.intlTelInput({nationalMode:!1,geoIpLookup:function(a){t.prop("readonly",!0),UQAJAX.post({url:"/account/topup_landing/topup_submit",data:{action:"getIPCountry"},dataType:"json",success:function(o){if(o&&o.status){var e=o&&o.data.countrycode?o.data.countrycode:"ID";a(e),UQCALLBACK(o.token,function(){setTimeout(n,100)})}t.prop("readonly",!1)}})},initialCountry:"auto"}),$.validator.methods.isPhoneCorrect=function(t,a){return $(a).intlTelInput("isValidNumber")},d.validate({rules:{destination_number:{required:!0,isPhoneCorrect:!0}},errorPlacement:function(t,a){"destination_number"==a.attr("name")&&$("#destination_error").html("").append(t)},messages:{destination_number:{required:"Destination number is required",isPhoneCorrect:"Your number is not correct format."}}}),$(d).on("submit",function(t){t.preventDefault}),$.fn.selectpicker.Constructor.BootstrapVersion="4",a.on("change",function(){r(),i(t,a)}),s.on("change",function(){r()}),t.on("change",function(){r(),i(t,a)}),e(),c(),o()}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},window.showAvailableOperators=function(t,a,o){$("#productsAvailList").html("").hide(),$("#operatorAvailList").html("");for(var e=[],r=0;r<t.operators.length;r++)if(t.operators[r].country_id==parseInt(a)){var i={};i=t.operators[r],e.push(i)}var n="";if(window.gLangSECLECTOPR="Select operator",window.gLangPROSERVICE="Select product",window.gLangNORESULT2="No result",e.length>0){n='<div class="row"><div class="col-sm-12"><h5 class="info">'+gLangSECLECTOPR+"</h5><hr></div></div>",n+='<div class="row options operator-option">';for(var r=0;r<e.length;r++)n+='<div class="col-sm-3">',n+='<div class="operatorWrapper">',n+='<input id="op_'+e[r].operator_id+'" type="radio" class="icheck" name="select_operator" onclick="javascript: return selectOperatorTrigger(this);" data-operator-id="'+e[r].operator_id+'" data-operator-name="'+e[r].operator+'" data-country-id="'+e[r].country_id+'" data-service-id="'+o+'" >',n+='<label for="op_'+e[r].operator_id+'"><img height="40" src="uploads/logo_operator/logo-'+e[r].operator_id+'-1.png" alt="'+e[r].operator+'">',n+="<br> "+e[r].operator,n+="</label></div>",n+="</div>";n+="</div>"}else n='<div class="row"><div class="col-sm-12"><h5 class="info">'+gLangPROSERVICE+"</h5><hr></div></div>",n+='<div></div><br/><br/><span class="info">',n+=gLangNORESULT2+"</span>",n+="</div>";$("#operatorAvailList").html(n).slideDown()},window.selectOperatorTrigger=function(t){var a=$(t).attr("data-operator-id"),o=($(t).attr("data-operator-name"),$(t).attr("data-country-id")),e=$(t).attr("data-service-id");$("#productsAvailList").show().html("<span>Loading...</span>"),UQAJAX.post({url:"/account/topup_landing/topup_submit",data:{country_id:o,action:"9999"!=e?"checkAllProductsOfOperator":"checkAllProductsOfOperatorTopupForUsOrUk",service_id:e,operator_id:a,coin:$("#coin").val()},reloadUserBalances:!1,success:function(t){t.status?window.showAvailableProductsOfOperatorServices(t.data,o,e,a):($("#error-alert").html(t.message).show(),setTimeout(function(){$("#error-alert").fadeOut()},2e3))},error:function(){console.warn("Server error")}})},window.showAvailableProductsOfOperatorServices=function(t,a,o,e){if("9999"==o)return void showAvailableProductsForDestination(t,a,o,e);var r=t.fixed_value_payments,i=t.fixed_value_recharges,n=t.fixed_value_vouchers,s=t.variable_value_payments,c=t.variable_value_recharges,d=t.variable_value_vouchers;window.gLangPROSERVICE="Select one product to go:",window.gLangENTERPLNACCID="Enter account id",window.gLangNORESULT="No result",window.gLangEXM="For example";var l="";if(r.length>0||i.length>0||n.length>0||s.length>0||c.length>0||d.length>0){l='<div class="row"><div class="col-sm-12"><h5 class="info">'+gLangPROSERVICE+"</h5><hr></div></div>",l+='<div class="row options amounts">';var p=[],u="";i.length>0&&(p=i,u="fixed_value_recharges"),n.length>0&&(p=n,u="fixed_value_vouchers");for(var v=convertCurrencyToCode($("#coin").val()),f=0;f<p.length;f++){var h=p[f].product_value,m=p[f].retail_price;l+='<div class="col-sm-4"><div class="amounts2" data-product-id="'+p[f].product_id+'" data-price="'+m+'" data-service-id="'+p[f].service_id+'" data-operator-id="'+p[f].operator_id+'" data-country-id="'+p[f].country_id+'" data-optionselect="'+u+'">',l+='<a class="white-shdw-button" href="javascript:;">',l+=parseFloat(h).formatMoney(2,".",",")+" "+p[f].product_currency,l+="<span>"+p[f].product_name+"</span>",l+="<span>"+p[f].product_short_desc+"</span>",l+='<span class="prc">'+v+m+"</span>",l+="</a></div></div>"}if(s.length>0){p=s,u="variable_value_payments";for(var f=0;f<p.length;f++)l+='<div class="col-sm-4"><div class="amounts3" data-product-id="'+p[f].product_id+'" data-service-id="'+p[f].service_id+'" data-operator-id="'+p[f].operator_id+'" data-country-id="'+p[f].country_id+'" data-optionselect="'+u+'">',l+='<a class="white-shdw-button" href="javascript:;">',l+="<span>"+p[f].product_name+"</span>",l+="</a>",l+='<div class="plnAccountIDEnter" style="display:none">',l+=gLangENTERPLNACCID+"<br/>",l+='<input type="text" maxlength="20" name="pln_account_id" class="pln_account_id" required /><br/>',l+='<span style="font-style:italic">'+gLangEXM+" 546800060938</span>",l+="<br/>",l+='<button id="check-pln-account-btn_'+f+'" class="ladda-button check-pln-account-btn submit-btn" data-color="white" data-style="zoom-in" data-size="s"> <span class="ladda-label">NEXT</span> </button>',l+='<div style="float:none;clear:both;width:100%;height:10px;"></div>',l+='<div class="plnAvailableProductInfo" >',l+="</div>",l+="</div>",l+="</div></div>"}l+="</div>"}else l='<div class="row"><div class="col-sm-12"><h5 class="info">'+gLangPROSERVICE+"</h5><hr></div></div>",l+='<div><br/><br/><span class="info">',l+=gLangNORESULT+"</span>",l+="</div>";$("#productsAvailList").slideDown().html(l)},window.showAvailableProductsForDestination=function(t,a,o,e){if(t.operator&&t.operatorid&&!t.product_list&&!t.retail_price_list)return void showAllChoicesForUkUSDestinationOperators(t);$("#productsAvailList").html("").hide(),$("#operatorAvailList").hide().html(""),window.gLangSECLECTOPR="Select amount to topup";var r='<div class="row">';r+='<div class="col-sm-4 text-center"> <img style="display: inline-block" src="uploads/logo_operator/logo-'+t.operatorid+'-1.png" alt="'+t.operator+'"></div>',r+='<div class="col-sm-4">'+t.operator,r+="</div></div>",r+='<div class="row"><div class="col-sm-12"><br><br><h5 class="info">'+gLangSECLECTOPR+"</h5><hr></div></div>",r+='<div class="row options amounts">';for(var i=t.product_list.split(","),n=t.retail_price_list.split(","),s=convertCurrencyToCode($("#coin").val()),c=0;c<i.length;c++){var d=i[c],l=n[c];r+='<div class="col-sm-3">',r+='<div class="amounts2" data-product="'+d+'" data-price="'+l+'" data-service-id="'+o+'" data-operator-id="'+e+'" data-country-id="'+a+'" >',r+='<a class="white-shdw-button" href="javascript:;" onclick="javascript: void (0)">',r+=parseFloat(d).formatMoney(2,".",",")+" "+t.destination_currency,r+="<span>"+s+l+"</span>",r+="</a></div></div>"}r+="</div>",$("#productsAvailList").show().slideDown().html(r)},window.showAllChoicesForUkUSDestinationOperators=function(t){var a=t.operator.split(","),o=t.operatorid.split(",");if(window.gLangSECLECTOPR="Select operator",window.gLangNORESULT2="No result",$("#productsAvailList").html("").hide(),$("#operatorAvailList").hide().html(""),a.length>0){var e='<div class="row">';e+='<div class="col-sm-12"><br><h5 class="info">'+gLangSECLECTOPR+"</h5><hr></div>",e+='<div class="row options operator-option">';for(var r=0;r<a.length;r++)e+='<div class="operatorWrapper">',e+='<input id="op_'+o[r]+'" type="radio" name="select_operator" onclick="javascript: return selectOperatorTrigger(this);" data-operator-id="'+o[r]+'" data-operator-name="'+a[r]+'" data-country-id="'+t.countryid+'" data-service-id="9999" >',e+='<label for="op_'+o[r]+'"><img src="uploads/logo_operator/logo-'+o[r]+'-1.png" alt="'+a[r]+'">',e+=""+a[r],e+="</label></div>";e+="</div>"}else{var e='<div class="row">';e+='<br/><br/><span class="info">',e+=gLangNORESULT2+"</span>",e+="</div>"}$("#operatorAvailList").show().slideDown().html(e)}}});