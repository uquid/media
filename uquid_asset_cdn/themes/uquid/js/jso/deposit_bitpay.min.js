!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=16)}({16:function(t,e){$(document).ready(function(){function t(){$(this).attr("size",$(this).val().length)}var e=$("#bitpay_submit"),r="Unknown";-1!=navigator.appVersion.indexOf("Win")&&(r="windows"),-1!=navigator.appVersion.indexOf("Mac")&&(r="macos"),-1!=navigator.appVersion.indexOf("X11")&&(r="unix"),-1!=navigator.appVersion.indexOf("Linux")&&(r="linux"),$(e).addClass(r),$(".selectable").on("click",function(t){$(this).select()}),e.validate(),$(".submit-btn").on("click",function(r){r.preventDefault(),$(".alert").hide(),e.valid()&&UQAJAX.post({url:e.attr("action"),data:e.serialize(),ladda:"#depositBTCBTN",reloadUserBalances:!0,success:function(r){if(r.status){$("#depositBTCBTN").prop("disabled",!0),$("#btc-details").show(),$(".selectable.btc-paid").attr("value",r.btcPrice).val(r.btcPrice),$(".selectable.btc-address").attr("value",r.btc_address).val(r.btc_address),$(".transaction-status span").text(r.getStatus),$(".btn-refresh-transaction-status").attr("data-invoiceid",r.getId),invID=r.getId,$(".selectable.btc-paid").each(t);var n=parseInt(r.getExpirationTime)-parseInt(r.getCurrentTime);n=parseInt(n/1e3);$(".clock").FlipClock(n,{clockFace:"MinuteCounter",countdown:!0,autoStart:!1,callbacks:{stop:function(){var t=$(".btn-refresh-transaction-status"),r=$(t).attr("data-invoiceid");if(invID!=r||""==r)return!1;$(t).text("Loading..."),UQAJAX.post({url:bcTransSttUrl,data:{invoice_id:r},success:function(r){$(t).text("Refresh"),r.status&&($(".transaction-status span").text(r.getStatus),$("#btc-details").html(r.message),e[0].reset(),$("#depositBTCBTN").prop("disabled",!1))},error:function(){console.warn("server error")}})}}}).start();var a=r.bitcoinQR;$("#qrcode").html("").qrcode({width:100,height:100,text:a})}else $("#error-alert").show().html(r.message)},error:function(){console.warn("server error")}})}),$(".btn-refresh-transaction-status").on("click",function(t){var e=$(this).attr("data-invoiceid"),r=this;$(r).text("Loading..."),UQAJAX.post({url:bcTransSttUrl,data:{invoice_id:e},success:function(t){$(r).text("Refresh"),t.status?$(".transaction-status span").text(t.getStatus):console.warn("Server error")},error:function(){console.warn("server error")}})}),$(".btn-cancel").on("click",function(t){$("#deposit-control").html(""),$('.item-deposit[rel="bitpay"]').trigger("click")}),$(".btn-done").on("click",function(t){var r=$(".btn-refresh-transaction-status"),n=$(r).attr("data-invoiceid");$(r).text("Loading..."),UQAJAX.post({url:bcTransSttUrl,data:{invoice_id:n},success:function(t){$(r).text("Refresh"),t.status&&("new"==t.getStatus||"expired"==t.getStatus||"invalid"==t.getStatus?alert(bcTransErrMsg):($("#btc-details").html(bcMPMdone),e[0].reset(),$("#depositBTCBTN").prop("disabled",!1)))},error:function(){console.warn("server error")}})})})}});