!function(e){function t(n){if(a[n])return a[n].exports;var s=a[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}({2:function(e,t){$(function(){function e(e){var a=e.find(".wizard");a.wizard();var n=e.find("form");o=n.validate({rules:{wallet_name:{required:!0},password:{required:!0,securePassword:!0,regex:/^[a-zA-Z0-9~`@!#$%^&*()_+={[}\]\/\\?,>< ]*$/},confirm_password:{equalTo:"#password"},activation_code:{required:!0}}}),a.on("changed.fu.wizard",function(e,t){3===t.step&&(a.find("li.complete").removeClass("complete").find(".badge-success").removeClass("badge-success"),a.find(".actions .btn-prev").prop("disabled",!0)),4===t.step&&(a.find("li.complete").each(function(){a.find(".actions .btn-prev").prop("disabled",!0),$(this).index()<2&&$(this).removeClass("complete").find(".badge-success").removeClass("badge-success")}),a.find(".actions .btn-next").html('<span style="margin-left: 0" class="ladda-label">Complete</span>'))}),a.on("actionclicked.fu.wizard",function(e,t){if(1===t.step&&!o.element("#wallet_name"))return!1;if(2===t.step){if(e.preventDefault(),!o.element("#password")||!o.element("#confirm_password"))return!1;n.find(".alert-danger").addClass("hide"),UQAJAX.post({url:n.attr("action"),data:n.serialize(),ladda:".actions .btn-next",success:function(e){e.status?a.wizard("selectedItem",{step:3}):n.find(".alert-danger").html(e.message).removeClass("hide")},error:function(e){n.find(".alert-danger").html(e.message).removeClass("hide")}})}}),a.on("finished.fu.wizard",function(e,a){$("#uqWalletBtn_activateWallet").length?$("#uqWalletBtn_activateWallet").trigger("click"):($.each(BootstrapDialog.dialogs,function(e,t){t.close()}),t())})}function t(){UQAJAX.reload($("#myWalletList"),{whenComplete:function(e){}})}function a(e){var a=e.find("form");a.validate({rules:{activation_code:{required:!0}}});a.on("submit",function(e){e.preventDefault(),a.find(".alert").addClass("hide"),a.valid()&&(a.find('input[name="action"]').val("activate"),UQAJAX.post({url:a.attr("action"),data:a.serialize(),ladda:"#walletActivationBTN",success:function(e){e.status?(a.find(".alert-success").html(e.message).removeClass("hide"),UQCALLBACK(e.token,function(){t()})):a.find(".alert-danger").html(e.message).removeClass("hide")},error:function(e){a.find(".alert-danger").html(e.message).removeClass("hide")}}))})}function n(e){var t=e.find("form");t.validate({rules:{recovery_code:{required:!0},new_password:{required:!0,securePassword:!0,regex:/^[a-zA-Z0-9~`@!#$%^&*()_+={[}\]\/\\?,>< ]*$/},new_password2:{equalTo:"#new_password"}}});t.on("submit",function(e){e.preventDefault(),t.valid()&&(t.find(".alert").addClass("hide"),t.find('input[name="action"]').val("recovery"),UQAJAX.post({url:t.attr("action"),data:t.serialize(),ladda:"#walletPasswordRecoveryBTN",reloadUserBalances:!1,success:function(e){e.status?(t.find(".alert-success").html(e.message).removeClass("hide"),t.trigger("reset")):t.find(".alert-danger").html(e.message).removeClass("hide")},error:function(){t.find(".alert-danger").html("Internal error").removeClass("hide")}}))})}function s(e){var a=e.find("#walletActionForm");a.find("#deleteWalletBTN").on("click",function(e){e.preventDefault(),a.find(".alert").addClass("hide"),a.find('input[name="action"]').val("delete"),UQAJAX.post({url:a.attr("action"),data:a.serialize(),ladda:"#deleteWalletBTN",reloadUserBalances:!1,success:function(e){e.status?(a.find(".alert-success").html(e.message).removeClass("hide"),UQCALLBACK(e.token,function(){t(),setTimeout(function(){$.each(BootstrapDialog.dialogs,function(e,t){t.close()})},1e3)})):a.find(".alert-danger").html(e.message).removeClass("hide")},error:function(){a.find(".alert-danger").html("Internal error").removeClass("hide")}})})}function i(e){var t=e.find("#generateAddressForm"),a=e.find("#addressQRcodeString");a.length&&a.text()&&(t.find("#updateAddressLabel").removeClass("hide"),t.find("#addressQRcode").html("").qrcode({width:150,height:150,text:a.text()})),e.find("#address_label").on("input",function(e){e.preventDefault(),t.find('input[name="address"]').val()&&t.find('input[name="addressId"]').val()&&t.find('input[name="addressHashing"]').val()?t.find("#updateAddressLabel").removeClass("hide"):t.find("#updateAddressLabel").addClass("hide")}),e.find("#updateAddressLabel").on("click",function(e){e.preventDefault(),t.find("#address_label").attr("required",!0),t.valid()&&(t.find(".alert").addClass("hide"),t.find('input[name="action"]').val("update"),UQAJAX.post({url:t.attr("action"),data:t.serialize(),ladda:"#updateAddressLabel",reloadUserBalances:!1,success:function(e){e.status?(t.find(".alert-success").html(e.message).removeClass("hide"),UQCALLBACK(e.token,function(){UQAJAX.reload($("#myReceiveAddress"),{whenComplete:function(e){}})})):t.find(".alert-danger").html(e.message).removeClass("hide")},error:function(){t.find(".alert-danger").html("Internal error").removeClass("hide")}}))}),e.find("#generateWalletAddressBTN").on("click",function(e){e.preventDefault(),t.find(".alert").addClass("hide"),t.find('input[name="address"]').val(""),t.find('input[name="addressId"]').val(""),t.find('input[name="addressHashing"]').val(""),t.find('input[name="displayAddress"]').val("").attr("value",""),t.find("#addressQRcode").html(""),t.find("#address_label").attr("required",!1),t.find('input[name="action"]').val("generate"),UQAJAX.post({url:t.attr("action"),data:t.serialize(),ladda:"#generateWalletAddressBTN",reloadUserBalances:!1,success:function(e){e.status?(t.find('input[name="address"]').val(e.address),t.find('input[name="addressId"]').val(e.addressId),t.find('input[name="addressHashing"]').val(e.addressHashing),t.find('input[name="displayAddress"]').val(e.address).attr("value",e.address),t.find("#addressQRcode").html("").qrcode({width:150,height:150,text:e.address}),$("#walletAddressInit").html(e.newWalletAddress),UQCALLBACK(e.token,function(){UQAJAX.reload($("#myReceiveAddress"),{whenComplete:function(e){}})})):t.find(".alert-danger").html(e.message).removeClass("hide")},error:function(){t.find(".alert-danger").html("Internal error").removeClass("hide")}})})}function r(e){var t=e.find("#walletActionForm");e.find("#walletSendBTN").on("click",function(e){e.preventDefault(),t.valid()&&(t.find(".alert").addClass("hide"),t.find('input[name="action"]').val("send"),UQAJAX.post({url:t.attr("action"),data:t.serialize(),ladda:"#walletSendBTN",reloadUserBalances:!1,success:function(e){t.find("#captchaIMG").html(e.cr),t.find("#captcha").val("").attr("value",""),e.status?(t.find(".alert-success").html(e.message).removeClass("hide"),UQCALLBACK(e.token,function(){UQAJAX.reload($("#myReceiveAddress"),{whenComplete:function(e){}})})):t.find(".alert-danger").html(e.message).removeClass("hide")},error:function(){t.find(".alert-danger").html("Internal error").removeClass("hide")}}))})}function d(e,t,a,n){a.find("i.fa").removeClass("hide"),UQAJAX.get({url:t,dataType:"html",success:function(t){a.find("i.fa").addClass("hide");var s=$("<table></table>").html(t);s&&s.find(".nextTransPageUrl").length>0?(a.removeClass("hide"),a.attr("data-url",s.find(".nextTransPageUrl").attr("href")),s.find(".nextTransPageUrl").parents("tr").remove()):a.addClass("hide"),n(e),e.append(s.html())}})}var l=new Clipboard("[data-clipboard]",{text:function(e){return e.getAttribute("data-clipboard")}});l.on("success",function(e){$(e.trigger).attr("title","Copied!"),$(e.trigger).tooltip("fixTitle").tooltip("show"),setTimeout(function(){$(e.trigger).attr("title","Copy address"),$(e.trigger).tooltip("hide")},1e3)}),l.on("error",function(e){$(e.trigger).attr("title","Press Ctrl+C/Cmd+C to copy"),$(e.trigger).tooltip("fixTitle").tooltip("show"),setTimeout(function(){$(e.trigger).attr("title","Copy address"),$(e.trigger).tooltip("hide")},1e3)}),$("[data-clipboard]").tooltip({trigger:"manual"});var o;$("#btnCreateWallet").on("click",function(t){t.preventDefault();var a=$(this).attr("href");BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:function(){return $("<div>").load(a)},onshown:function(t){setTimeout(function(){e(t.$modal)},200)},title:"Create wallet"})}),$(document).on("click","#uqWalletBtn_activateWallet",function(e){if(e.preventDefault(),o&&o.element("#activation_code")){var a=$(this).parents("#wrapActivationWalletSection");a.find(".alert-danger").addClass("hide"),UQAJAX.post({url:$(this).attr("data-post"),data:{activation_code:a.find("#activation_code").val()},ladda:"#uqWalletBtn_activateWallet",success:function(e){if(e.status){var n='<div class="alert alert-success">'+e.message+"</div>";a.html(n),t()}else a.find(".alert-danger").html(e.message).removeClass("hide")},error:function(e){a.find(".alert-danger").html(e.message).removeClass("hide")}})}});var c=$("#myWalletList");c.on("click","a.action-activate-wallet",function(e){e.preventDefault();var t=$(this).attr("href");BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:function(){var e=$("<div>");return e.load(t,function(){a(e)})},title:"Activate wallet"})}),c.on("click","a.action-recovery-wallet-password",function(e){e.preventDefault();var t=$(this).attr("href");BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:function(){var e=$("<div>");return e.load(t,function(){n(e)})},title:"Password recovery"})}),c.on("click","a.action-delete-wallet",function(e){e.preventDefault();var t=$(this).attr("href");BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:function(){var e=$("<div>");return e.load(t,function(){s(e)})},title:"Delete wallet"})}),$("#refreshWalletBalance").on("click",function(e){e.preventDefault();var t=$(this);t.find("i").addClass("fa-spin"),UQAJAX.post({url:t.attr("data-url"),data:{hash:t.attr("data-hash")},success:function(e){e.status?(t.siblings("span").text(e.message),e.address&&t.parents("row").find("#walletAddressInit").html(e.address)):alert(e.message),t.find("i").removeClass("fa-spin")},error:function(){t.find("i").removeClass("fa-spin")}})}),$("#btnWalletReceive").on("click",function(e){e.preventDefault();var t=$(this).attr("data-href");BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:function(){var e=$("<div>");return e.load(t,function(){i(e)})},title:"Receive Address"})}),$("#btnWalletSend").on("click",function(e){e.preventDefault();var t=$(this).attr("data-href");BootstrapDialog.show({size:BootstrapDialog.SIZE_NORMAL,message:function(){var e=$("<div>");return e.load(t,function(){r(e)})},title:"Send"})});var f=$("#myReceiveAddress");f.on("click","a.action-show-qr-code",function(e){e.preventDefault();var t=$(this).attr("href");BootstrapDialog.show({size:BootstrapDialog.SIZE_NORMAL,message:function(){var e=$("<div>");return e.load(t,function(){var t=e.find("#addressQRcode").text();e.find("#addressQRcode").html("").qrcode({width:150,height:150,text:t})})},title:"QR Code"})}),f.on("click","a.action-edit-label",function(e){e.preventDefault();var t=$(this).attr("href");BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:function(){var e=$("<div>");return e.load(t,function(){i(e)})},title:"Receive Address"})}),f.on("click","a.action-delete-address",function(e){e.preventDefault();var t=$(this).attr("href");BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:function(){var e=$("<div>");return e.load(t,function(){var t=e.find("form");e.find("#deleteAddressBTN").on("click",function(e){e.preventDefault(),t.find(".alert").addClass("hide"),t.find('input[name="action"]').val("delete"),UQAJAX.post({url:t.attr("action"),data:t.serialize(),ladda:"#deleteAddressBTN",reloadUserBalances:!1,success:function(e){e.status?(t.find(".alert-success").html(e.message).removeClass("hide"),UQCALLBACK(e.token,function(){UQAJAX.reload($("#myReceiveAddress"),{whenComplete:function(e){}})})):t.find(".alert-danger").html(e.message).removeClass("hide")},error:function(){t.find(".alert-danger").html("Internal error").removeClass("hide")}})})})},title:"Delete Receive Address"})}),$('#walletDetailsTabsController a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=$(e.target).attr("href");if("#transactions"==t){var a=$("#transactions #dynamicContent");a.children().length<1&&(a.html('<tr><td align="center" colspan="99"><i class="fa fa-spinner fa-spin fa-fw"></i> Loading transactions</td>'),d(a,$(e.target).attr("data-url"),$("#dynamicbutton"),function(e){e.html("")}))}else"#receive"==t&&UQAJAX.reload($("#myReceiveAddress"),{whenComplete:function(e){}})}),$("#walletDetailsTabsController").on("click","#btnRefreshTrans",function(e){var t=$(this).addClass("fa-spin"),a=$("#transactions #dynamicContent");$("#dynamicbutton").addClass("hide"),a.html('<tr><td align="center" colspan="99"><i class="fa fa-spinner fa-spin fa-fw"></i> Loading transactions</td>'),d(a,$(this).parent().attr("data-url"),$("#dynamicbutton"),function(e){e.html(""),t.removeClass("fa-spin")})}),$("#dynamicbutton").on("click",function(e){e.preventDefault();var t=$("#transactions #dynamicContent"),a=$(this);d(t,$(this).attr("data-url"),a,function(e){})})})}});