!function(t){function e(o){if(a[o])return a[o].exports;var r=a[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,o){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=33)}({33:function(t,e){!function(t){function e(){t.removeCookie("uqtopup_coin",{path:"/"}),t.removeCookie("uqtopup_destination_number",{path:"/"}),t.removeCookie("uqtopup_operatorId",{path:"/"}),t.removeCookie("uqtopup_productId",{path:"/"}),t.removeCookie("uqtopup_serviceId",{path:"/"}),t.removeCookie("uqtopup_countryId",{path:"/"}),t.removeCookie("uqtopup_optionselect",{path:"/"})}function a(){var a=t.cookie("uqtopup_coin"),o=t.cookie("uqtopup_destination_number"),r=t.cookie("uqtopup_operatorId"),n=t.cookie("uqtopup_productId"),i=t.cookie("uqtopup_serviceId"),s=t.cookie("uqtopup_countryId"),c=t.cookie("uqtopup_topupproduct"),d=t.cookie("uqtopup_topuptype"),l=function(){var t=a&&s&&i&&n&&o&&r,e=o&&a&&c&&d&&"topup"==d;return t||e};l()&&t(".umask").removeClass("hidden"),t(document).on("initCountryOK",function(){l()&&setTimeout(function(){t("#coin_payee").val(a),"topup"==d?t(".check-number-btn").trigger("click"):t(".check-services-btn").trigger("click"),t(".umask").removeClass("hidden")},800)}),t(document).on("uqtopupServicesLoaded",function(){l()&&setTimeout(function(){t("#servicesAvailList [data-service-id="+i+"] a").trigger("click")},800)}),t(document).on("uqtopupOperatorsLoaded",function(){l()&&setTimeout(function(){t("#operatorAvailList .operatorWrapper [name=select_operator][data-operator-id="+r+"][data-country-id="+s+"][data-service-id="+i+"]").trigger("click")},800)}),t(document).on("uqtopupTopupOperatorLoaded",function(){l()&&setTimeout(function(){t("#operatorAvailList .operatorWrapper [name=select_operator][data-operator-id="+r+"][data-country-id="+s+"][data-service-id="+i+"]").trigger("click")},800)}),t(document).on("uqtopupProductsLoaded",function(){l()&&setTimeout(function(){t("#productsAvailList [data-product-id="+n+"][data-operator-id="+r+"][data-country-id="+s+"][data-service-id="+i+"] a").trigger("click"),t(".umask").addClass("hidden"),e()},800)}),t(document).on("uqtopupTopupProductLoaded",function(){l()&&setTimeout(function(){t("#productsAvailList [data-product="+c+"] a").trigger("click"),t(".umask").addClass("hidden"),e()},800)})}function o(){var e=io.connect("https://uquidcoin.com:9222",{secure:!0});e.emit("joinRoom",{hash:socketRoom}),e.on("uqtopup",function(e){var a="green";if(e.status){var a="green";t(document).find("#topupDepositCountDown_controll").text("Completed.")}else{var a="red";t(document).find("#topupDepositCountDown_controll").text("Cancelled.")}iziToast.show({title:"Updates: ",message:e.message,color:a,position:"topCenter",timeout:1e4})})}window.showAllChoicesForUkUSDestinationOperators=function(e){var a=e.operator.split(","),o=e.operatorid.split(",");if(a.length>0){var r='<div class="row">';r+='<span class="info">',r+=gLangSECLECTOPR+"</span>",r+='<div class="row options operator-option">';for(var n=0;n<a.length;n++)r+='<div class="operatorWrapper">',r+='<input id="op_'+o[n]+'" type="radio" name="select_operator" onclick="javascript: return selectOperatorTrigger(this);" data-operator-id="'+o[n]+'" data-operator-name="'+a[n]+'" data-country-id="'+e.countryid+'" data-service-id="9999" >',r+='<label for="op_'+o[n]+'"><img src="https://uquid.com/uploads/logo_operator/logo-'+o[n]+'-1.png" alt="'+a[n]+'">',r+="<br>"+a[n],r+="</label></div>";r+="</div>"}else{var r='<div class="row">';r+='<br/><br/><span class="info">',r+=gLangNORESULT2+"</span>",r+="</div>"}t("#operatorAvailList").html(r),t(document).trigger("uqtopupTopupOperatorLoaded")},window.showAvailableProductsForDestination=function(e){if(e.operator&&e.operatorid&&!e.product_list&&!e.retail_price_list)return void showAllChoicesForUkUSDestinationOperators(e);var a='<div class="row">';a+='<div class="col-sm-6 text-center">',a+='<img src="https://uquid.com/uploads/logo_operator/logo-'+e.operatorid+'-1.png" alt="'+e.operator+'">',a+="<br>"+e.operator,a+='</div></div><br/><br/><span class="info">',a+=gLangSECLECTOPR+"</span>",a+='<div class="row options amounts">';for(var o=e.product_list.split(","),r=e.retail_price_list.split(","),n=convertCurrencyToCode(t("#coin_payee").val()),i=0;i<o.length;i++){var s=o[i],c=r[i];a+='<div class="amounts2" data-product="'+s+'" data-price="'+c+'">',a+='<a class="btn" href="javascript:;" onclick="javascript: return selectProductTrigger('+i+')">',a+=parseFloat(s).formatMoney(2,".",",")+" "+e.destination_currency,a+="<span>"+n+c+"</span>",a+="</a></div>"}a+="</div>",t("#productsAvailList").html(a),t(document).trigger("uqtopupTopupProductLoaded")},window.showAvailableServicesForDestination=function(e){if(e.services.length>0){var a='<div class="row">';a+='<span class="info">',a+=gLangSELECTSERV+"</span>",a+='<div class="row options services-option">';for(var o=0;o<e.services.length;o++)a+='<div class="amounts2" data-service-id="'+e.services[o].service_id+'" data-service-name="'+e.services[o].service+'">',a+='<a class="btn" href="javascript:;" onclick="javascript: return selectServiceTrigger('+e.services[o].service_id+');">',a+=e.services[o].service,a+="</a></div>";a+="</div>"}else{var a='<div class="row">';a+='<br/><br/><span class="info">',a+=gLangNORESULT3+"</span>",a+="</div>"}t("#servicesAvailList").html(a),t(document).trigger("uqtopupServicesLoaded")},window.showAvailableOperators=function(e,a,o){for(var r=[],n=0;n<e.operators.length;n++)if(e.operators[n].country_id==parseInt(a)){var i={};i=e.operators[n],r.push(i)}if(r.length>0){var s='<div class="row">';s+='<span class="info">',s+=gLangSECLECTOPR+"</span>",s+='<div class="row options operator-option">';for(var n=0;n<r.length;n++)s+='<div class="operatorWrapper">',s+='<input id="op_'+r[n].operator_id+'" type="radio" name="select_operator" onclick="javascript: return selectOperatorTrigger(this);" data-operator-id="'+r[n].operator_id+'" data-operator-name="'+r[n].operator+'" data-country-id="'+r[n].country_id+'" data-service-id="'+o+'" >',s+='<label for="op_'+r[n].operator_id+'"><img src="https://uquid.com/uploads/logo_operator/logo-'+r[n].operator_id+'-1.png" alt="'+r[n].operator+'">',s+="<br>"+r[n].operator,s+="</label></div>";s+="</div>"}else{var s='<div class="row">';s+='<br/><br/><span class="info">',s+=gLangNORESULT2+"</span>",s+="</div>"}t("#operatorAvailList").html(s),t(document).trigger("uqtopupOperatorsLoaded")},window.showAvailableProductsOfOperatorServices=function(e,a,o,r){if("9999"==o)return void showAvailableProductsForDestination(e);var n=e.fixed_value_payments,i=e.fixed_value_recharges,s=e.fixed_value_vouchers,c=e.variable_value_payments,d=e.variable_value_recharges,l=e.variable_value_vouchers;if(n.length>0||i.length>0||s.length>0||c.length>0||d.length>0||l.length>0){var u='<div class="">';u+='<span class="info">',u+=gLangPROSERVICE+"</span>",u+='<div class="row options amounts">';var p=[],v="";i.length>0&&(p=i,v="fixed_value_recharges"),s.length>0&&(p=s,v="fixed_value_vouchers");for(var m=convertCurrencyToCode(t("#coin_payee").val()),f=0;f<p.length;f++){var h=p[f].product_value,g=p[f].retail_price;u+='<div class="amounts2" data-product-id="'+p[f].product_id+'" data-price="'+g+'" data-service-id="'+p[f].service_id+'" data-operator-id="'+p[f].operator_id+'" data-country-id="'+p[f].country_id+'" data-optionselect="'+v+'">',u+='<a class="btn" href="javascript:;" onclick="javascript: return selectProductTrigger_Services(this)">',u+=parseFloat(h).formatMoney(2,".",",")+" "+p[f].product_currency,u+="<span>"+p[f].product_name+"</span>",u+="<span>"+p[f].product_short_desc+"</span>",u+='<span class="prc">'+m+g+"</span>",u+="</a></div>"}if(c.length>0){p=c,v="variable_value_payments";for(var f=0;f<p.length;f++)u+='<div class="amounts3" data-product-id="'+p[f].product_id+'" data-service-id="'+p[f].service_id+'" data-operator-id="'+p[f].operator_id+'" data-country-id="'+p[f].country_id+'" data-optionselect="'+v+'">',u+='<a class="btn" href="javascript:;" onclick="javascript: return selectOperatorTriggerSpecial(this)">',u+="<span>"+p[f].product_name+"</span>",u+="</a>",u+='<div class="plnAccountIDEnter" style="display:none">',u+=gLangENTERPLNACCID+"<br/>",u+='<input type="text" maxlength="20" name="pln_account_id" class="pln_account_id" required /><br/>',u+='<span style="font-style:italic">'+gLangEXM+" 546800060938</span>",u+="<br/>",u+='<button id="check-pln-account-btn_'+f+'" class="ladda-button check-pln-account-btn submit-btn" onclick="checkPLNaccountID(this);" data-color="white" data-style="zoom-in" data-size="s"> <span class="ladda-label">NEXT</span> </button>',u+='<div style="float:none;clear:both;width:100%;height:10px;"></div>',u+='<div class="plnAvailableProductInfo" >',u+="</div>",u+="</div>",u+="</div>"}u+="</div>"}else{var u='<div class="row">';u+='<br/><br/><span class="info">',u+=gLangNORESULT+"</span>",u+="</div>"}t("#productsAvailList").html(u),t(document).trigger("uqtopupProductsLoaded")},window.showAvailableProductsOfOperatorServices_PLNAccountIdSpecial=function(e,a,o){var r=t("#productsAvailList .amounts3.yes").find(".plnAvailableProductInfo"),n="",i=e.retail_price,s=e.local_value,c=convertCurrencyToCode(t("#coin_payee").val());n+='<div class="amounts2" style="margin-left:0px;width:100%;" data-pln-account-id="'+a.plnAccountId+'" data-product-id="'+a.product_id+'" data-price="'+i+'" data-service-id="'+a.service_id+'" data-operator-id="'+a.operator_id+'" data-country-id="'+a.country_id+'" data-optionselect="'+a.data_optionselect+'">',n+='<a class="btn" href="javascript:;" onclick="javascript: return selectProductTrigger_Services(this)">',n+=parseFloat(s).formatMoney(2,".",",")+" "+e.local_currency,n+="<span>"+e.payment.name+"</span>",n+="<span>"+gLangAMT+parseFloat(e.payment.amount)+" "+e.payment.currency+"</span>",n+="<span>"+gLangFEE+parseFloat(e.payment.fee)+" "+e.payment.currency+"</span>",n+='<span class="prc">'+c+i+"</span>",n+="</a></div>",t(r).html(n)},window.selectProductTrigger_Services=function(e){if(blockedSelect)return!1;t(".plnAccountIDEnter").hide(),"variable_value_payments"==t(e).parent(".amounts2").attr("data-optionselect")&&t(e).parents(".plnAccountIDEnter").show(),t(t("#productsAvailList").find(".amounts2")).removeClass("selected"),t(t("#productsAvailList").find(".amounts3")).removeClass("selected"),t(e).parent().addClass("selected"),t("#continueButton").attr("disabled",!1),t("#continueButton").attr("data-index",-9);var a=t(e).clone().children().remove().end().text(),o=t(e).find("span.prc").text(),r='<div class="col-sm-12"><p>';r+=gLangAMTPAID+o,r+="</p><p>"+gLangLOCALREVAL+a,r+="</p></div>",t("#productInfoFee").html(r)},window.selectOperatorTrigger=function(e){var a=t(e).attr("data-operator-id"),o=(t(e).attr("data-operator-name"),t(e).attr("data-country-id")),r=t(e).attr("data-service-id"),n=t("#transfer_submit");t(".plnAccountIDEnter").hide(),t("#continueButton").attr("disabled",!0),t("#productsAvailList").html("<span>Loading...</span>");var i=t("#destination_number"),s=i.intlTelInput("getNumber");UQAJAX.post({url:n.attr("action"),data:{country_id:o,action:"9999"!=r?"checkAllProductsOfOperator":"checkAllProductsOfOperatorTopupForUsOrUk",service_id:r,operator_id:a,destinationPhone:s,coin:t("#coin_payee").val()},reloadUserBalances:!1,success:function(e){e.status?window.showAvailableProductsOfOperatorServices(e.data,o,r,a):(t("#error-alert").html(e.message).show(),setTimeout(function(){t("#error-alert").fadeOut()},2e3))},error:function(){console.warn("Server error")}})},window.selectOperatorTriggerSpecial=function(e){var a=t(e).parent(".amounts3"),o=t(a).attr("data-operator-id"),r=t(a).attr("data-service-id"),n=t(a).attr("data-country-id"),i=t(a).attr("data-product-id"),s=t(a).attr("data-optionselect");t(".amounts3").removeClass("yes").removeClass("selected"),t(a).find(".plnAvailableProductInfo").html(""),t(".plnAccountIDEnter").hide(),t(a).find(".plnAccountIDEnter").show(),t(t("#productsAvailList").find(".amounts2")).removeClass("selected"),t(a).addClass("selected").addClass("yes"),t("#continueButton").attr("disabled",!0),t(a).find('input[name="pln_account_id"]').val("").attr("value",""),t(a).find(".check-pln-account-btn").attr("data-operator-id",o).attr("data-service-id",r).attr("data-country-id",n).attr("data-optionselect",s).attr("data-product-id",i)},window.checkPLNaccountID=function(e){var a=e;t(a).parents(".amounts3").find(".plnAvailableProductInfo").html(""),t("#continueButton").attr("disabled",!0);var o={};o.operator_id=t(a).attr("data-operator-id"),o.service_id=t(a).attr("data-service-id"),o.country_id=t(a).attr("data-country-id"),o.product_id=t(a).attr("data-product-id"),o.data_optionselect=t(a).attr("data-optionselect"),o.plnAccountId=t(e).parent(".plnAccountIDEnter").find('input[name="pln_account_id"]').val(),o.action="checkPLNAccountOfOperator",o.coin=t("#coin_payee").val();var r=t("#transfer_submit");if(t(".alert").hide(),r.valid()){var n=t(e).attr("id");UQAJAX.post({url:r.attr("action"),ladda:"#"+n,data:o,reloadUserBalances:!1,success:function(e){e.status?showAvailableProductsOfOperatorServices_PLNAccountIdSpecial(e.data,o,a):(t("#error-alert").html(e.message).show(),setTimeout(function(){t("#error-alert").fadeOut()},2e3))},error:function(){console.warn("Server error")}})}},window.selectProductTrigger=function(e){if(blockedSelect)return!1;t(t("#productsAvailList").find(".amounts2")).removeClass("selected"),t(t("#productsAvailList").find(".amounts2")[e]).addClass("selected"),t("#continueButton").attr("disabled",!1),t("#continueButton").attr("data-index",e);var a=t(t("#productsAvailList").find(".amounts2")[e]).find("a").clone().children().remove().end().text(),o=t(t("#productsAvailList").find(".amounts2")[e]).find("span").text(),r='<div class="col-sm-12"><p>';r+=gLangAMTPAID+o,r+="</p><p>"+gLangLOCALREVAL+a,r+="</p></div>",t("#productInfoFee").html(r)},window.selectServiceTrigger=function(e){if(blockedSelect)return!1;t(t("#servicesAvailList").find(".amounts2")).removeClass("selected"),t(t('#servicesAvailList [data-service-id="'+e+'"]')).addClass("selected"),t("#continueButton").attr("disabled",!0);var a=t("#transfer_submit"),o=t("#destination_number"),r=o.intlTelInput("getNumber");t("#operatorAvailList").html("<span>Loading...</span>"),t("#productsAvailList").html(""),UQAJAX.post({url:a.attr("action"),data:{destinationPhone:r,action:"checkAllOperatorsOfService",service_id:e,coin:t("#coin_payee").val()},reloadUserBalances:!1,success:function(a){a.status?showAvailableOperators(a.data,a.country_id,e):(t("#error-alert").html(a.message).show(),setTimeout(function(){t("#error-alert").fadeOut()},2e3))},error:function(){console.warn("Server error")}})},window.resetAllSelectedValue=function(){t(".pln_account_id").removeAttr("required"),t(t("#productsAvailList").find(".amounts2")).removeClass("selected").removeClass("blockedClick"),t("#productsAvailList").html(""),t("#continueButton").attr("disabled",!0),t("#continueButton").attr("data-phone",""),t("#continueButton").attr("data-index",""),t("#productInfoFee").html(""),t("#servicesAvailList").html(""),t("#operatorAvailList").html(""),t("#payment_type_selected").val("")},t(document).ready(function(){var e=t("#destination_number"),r=t("#sender_number");e.intlTelInput({nationalMode:!1,geoIpLookup:function(a){e.prop("readonly",!0),UQAJAX.post({url:"/account/topup_landing/topup_submit",data:{action:"getIPCountry"},dataType:"json",success:function(o){if(o&&o.status){var n=o&&o.data.countrycode?o.data.countrycode:"ID";a(n),r.intlTelInput({nationalMode:!1,initialCountry:"auto",geoIpLookup:function(t){t(n)}}),UQCALLBACK(o.token,function(){}),t(document).trigger("initCountryOK")}e.prop("readonly",!1)},error:function(){e.prop("readonly",!1),t(document).trigger("initCountryOK")}})},initialCountry:"auto"}),t.validator.methods.isPhoneCorrect=function(e,a){return t(a).intlTelInput("isValidNumber")};var n=t("#transfer_submit");n.validate({rules:{destination_number:{required:!0,isPhoneCorrect:!0}},messages:{destination_number:{required:"Destination number is required",isPhoneCorrect:"Your number is not correct format."}}}),n.on("submit",function(t){return t.preventDefault,!1}),t(".check-number-btn").on("click",function(a){if(a.preventDefault(),t(".pln_account_id").removeAttr("required"),n.valid()){window.resetAllSelectedValue();var o=e.intlTelInput("getNumber"),r=e.intlTelInput("getSelectedCountryData");r.destinationPhone=o,r.action="check",r.coin=t("#coin_payee").val(),t("#continueButton").attr("data-phone",o),t(".alert").hide(),UQAJAX.post({url:n.attr("action"),ladda:".check-number-btn",data:r,reloadUserBalances:!1,success:function(e){e.status?window.showAvailableProductsForDestination(e.data):(t("#error-alert").html(e.message).show(),setTimeout(function(){t("#error-alert").fadeOut()},2e3))},error:function(){console.warn("Server error")}})}}),t(".check-services-btn").on("click",function(a){if(a.preventDefault(),n.valid()){window.resetAllSelectedValue();var o=e.intlTelInput("getNumber"),r=e.intlTelInput("getSelectedCountryData");r.destinationPhone=o,r.action="checkAllServicesForDestination",r.coin=t("#coin_payee").val(),t("#continueButton").attr("data-phone",o),t(".alert").hide(),UQAJAX.post({url:n.attr("action"),ladda:".check-services-btn",data:r,reloadUserBalances:!1,success:function(e){e.status?window.showAvailableServicesForDestination(e.data):(t("#error-alert").html(e.message).show(),setTimeout(function(){t("#error-alert").fadeOut()},3e3))},error:function(){console.warn("Server error")}})}}),e.on("countrychange",function(t,e){window.resetAllSelectedValue()}).on("change",function(t){window.resetAllSelectedValue()}).on("keypress",function(t){window.resetAllSelectedValue()}),t(".send-topup-btn").on("click",function(e){if(e.preventDefault(),!n.valid())return!1;var a={};if(a.destinationPhone=t("#continueButton").attr("data-phone"),a.indexProduct=t("#continueButton").attr("data-index"),a.sender=r.intlTelInput("getNumber"),a.message=t("#text_message").val(),a.action="send",a.payment_type_selected=t("#payment_type_selected").val(),a.hdhashing=t("#hdhashing").val(),a.coin=t("#coin_payee").val(),"-9"==a.indexProduct){if(a.action="sendTopupServices",a.product_id=parseInt(t("#productsAvailList").find(".amounts2.selected").attr("data-product-id")),a.price=parseFloat(t("#productsAvailList").find(".amounts2.selected").attr("data-price")),a.service_id=parseInt(t("#productsAvailList").find(".amounts2.selected").attr("data-service-id")),a.operator_id=parseInt(t("#productsAvailList").find(".amounts2.selected").attr("data-operator-id")),a.country_id=parseInt(t("#productsAvailList").find(".amounts2.selected").attr("data-country-id")),a.productType=t("#productsAvailList").find(".amounts2.selected").attr("data-optionselect"),a.product_id<=0||a.price<=0||a.service_id<=0||a.operator_id<=0||a.country_id<=0||!a.productType)return alert("Something went wrong!"),n[0].reset(),window.resetAllSelectedValue(),!1;if("variable_value_payments"==a.productType&&(a.plnAccountId=t("#productsAvailList").find(".amounts2.selected").attr("data-pln-account-id"),!a.plnAccountId))return alert("Something went wrong!"),n[0].reset(),window.resetAllSelectedValue(),!1}t(".alert").hide(),t(".check-number-btn").attr("disabled",!0),t(".check-services-btn").attr("disabled",!0),t(".check-pln-account-btn").attr("disabled",!0),blockedSelect=!0,UQAJAX.post({url:n.attr("action"),ladda:".send-topup-btn",data:a,reloadUserBalances:!1,success:function(e){t(".check-number-btn").attr("disabled",!1),t(".check-services-btn").attr("disabled",!1),t(".check-pln-account-btn").attr("disabled",!1),blockedSelect=!1,e.status?""==a.payment_type_selected?(t("#payment_type_selected").val(e.payment_type_selected),UQCALLBACK(e.token,function(){BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:t("<div></div>").load(e.modalUrl),title:"Make a payment",onhidden:function(t){window.location.reload()}})})):(t("#success-alert").html(e.message).show(),n[0].reset(),window.resetAllSelectedValue()):(t("#error-alert").html(e.message).show(),setTimeout(function(){t("#error-alert").fadeOut()},2e3))},error:function(){console.warn("Server error")}})}),t(".intl-tel-input .selected-flag").on("click",function(e){var a=t(this).offset().top-t(window).scrollTop()+40;t(this).parents(".intl-tel-input").find(".country-list").css({position:"fixed",top:a,height:200})}),t(window).scroll(function(){t(".intl-tel-input .selected-flag").each(function(e){var a=t(this).offset().top-t(window).scrollTop()+40;t(this).parents(".intl-tel-input").find(".country-list").css({position:"fixed",top:a,height:200})})}),t(".topup_history").on("click",function(e){var a=t("#hdhashing").val();BootstrapDialog.show({size:BootstrapDialog.SIZE_WIDE,message:t("<div></div>").load("account/topup/history/?hashing="+a),title:"Topup history",onshow:function(t){t.$modal.find(".modal-lg").addClass("modal-xxl")}})}),o(),a()})}(jQuery)}});